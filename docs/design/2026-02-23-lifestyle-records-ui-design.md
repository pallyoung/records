# 日常生活记录工具 - UI 设计

## 设计理念

**风格：** 日记手账风 (Diary / Journal Aesthetic)

**核心理念：**
- 温暖、柔和的视觉体验，如同翻阅一本精心装饰的日记本
- 注重内容的呈现，让每一段记录都值得被认真对待
- 兼顾个人使用和分享展示的优雅

---

## 设计系统

### 色彩方案

```css
:root {
  /* 主背景 - 温暖的米色，像陈旧的纸张 */
  --bg-primary: #FAF8F5;
  --bg-secondary: #F5F2ED;
  --bg-card: #FFFFFF;

  /* 文字颜色 - 温暖的深棕色 */
  --text-primary: #3D3329;
  --text-secondary: #6B5E52;
  --text-muted: #9A8B7A;

  /* 强调色 - 陶土色 */
  --accent-primary: #C4A484;
  --accent-hover: #B08B6D;

  /* 辅助色 - 鼠尾草绿 */
  --accent-secondary: #8B9A7D;
  --accent-tertiary: #D4C4A8;

  /* 状态色 */
  --status-pending: #E8DFD5;
  --status-in-progress: #F5E6CC;
  --status-completed: #D8E2D5;

  /* 风险提示 - 柔和的红色 */
  --danger: #C97B7B;
  --danger-bg: #F9E8E8;

  /* 成功 */
  --success: #8B9A7D;

  /* 阴影 */
  --shadow-sm: 0 2px 8px rgba(61, 51, 41, 0.06);
  --shadow-md: 0 4px 16px rgba(61, 51, 41, 0.08);
  --shadow-lg: 0 8px 32px rgba(61, 51, 41, 0.12);

  /* 圆角 */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 20px;
  --radius-full: 9999px;
}
```

### 字体方案

```css
/* 标题字体 - 衬线体，有手工感 */
--font-heading: 'Noto Serif SC', 'Lora', Georgia, serif;

/* 正文字体 - 清晰易读 */
--font-body: 'Nunito', 'Quicksand', -apple-system, sans-serif;

/* 字号 */
--text-xs: 12px;
--text-sm: 14px;
--text-base: 16px;
--text-lg: 18px;
--text-xl: 22px;
--text-2xl: 28px;
--text-3xl: 36px;
```

### 间距系统

```css
--space-1: 4px;
--space-2: 8px;
--space-3: 12px;
--space-4: 16px;
--space-5: 20px;
--space-6: 24px;
--space-8: 32px;
--space-10: 40px;
--space-12: 48px;
```

---

## 组件设计

### 1. 状态标签 (Status Badge)

**样式：**
- 圆角药丸形状 (pill shape)
- 柔和的背景色 + 深一号的文字
- 左侧小圆点指示状态

```
┌─────────────┐
│ ● 未开始    │
└─────────────┘

┌─────────────┐
│ ● 进行中    │
└─────────────┘

┌─────────────┐
● 已完成      │
└─────────────┘
```

**颜色：**
- 未开始：背景 #E8DFD5，文字 #6B5E52
- 进行中：背景 #F5E6CC，文字 #8B7355
- 已完成：背景 #D8E2D5，文字 #5D6E52

**超期状态：** 背景 #F9E8E8，文字 #C97B7B，左侧添加警告图标

---

### 2. Tag 标签

**样式：**
- 圆角小卡片
- 背景色根据 tag 名称生成哈希颜色（保持一致性）
- 点击可删除，带 × 按钮

```
┌──────┐
│ 工作 ×│
└──────┘
```

**颜色生成规则：** 使用 tag 名称的 hash，映射到一组预设的柔和色板

---

### 3. 记录卡片 (Record Card)

**布局：**
```
┌────────────────────────────────────┐
│  ● 进行中           2天后结束      │
│                                    │
│  今天完成了需求评审，和团队确认    │
│  了第一阶段的技术方案...           │
│                                    │
│  [图片1] [图片2] [图片3]          │
│                                    │
│  ┌────┐ ┌────┐                    │
│  │工作│ │设计│                    │
│  └────┘ └────┘                    │
│                          编辑 删除 │
└────────────────────────────────────┘
```

**细节：**
- 卡片白色背景，柔和阴影
- 顶部状态栏：状态标签 + 倒计时（超期红色加粗）
- 内容文字：多行显示，最多显示 3 行 + "展开更多"
- 图片：网格排列，最大 3 张预览
- Tags：底部显示
- 操作：鼠标悬停显示编辑/删除按钮

---

### 4. 筛选栏 (Filter Bar) - 折叠式设计

**设计理念：** 默认最小化占用空间，提供搜索和快速状态切换，展开后显示完整筛选选项。

**折叠状态（默认）：**
```
┌─────────────────────────────────────────┐
│ 🔍 搜索...          [状态 ▼] [筛选 ▼]  │
└─────────────────────────────────────────┘
高度: 56px
```

**展开状态：**
```
┌─────────────────────────────────────────┐
│ 🔍 搜索...          [状态 ▼] [筛选 ▲]  │
├─────────────────────────────────────────┤
│ 状态:  ●未开始 ●进行中 ●已完成         │
│ Tag:   [工作] [生活] [学习] [更多...]  │
│ [清除筛选]                              │
└─────────────────────────────────────────┘
```

**头部元素：**
- **搜索框**：左侧，圆角输入框，带搜索图标，支持内容和标签搜索
- **状态按钮**：
  - 未选择时：显示"状态"，点击展开筛选面板
  - 已选择时：显示当前状态（未开始/进行中/已完成）+ 清除图标，点击清除筛选
- **筛选按钮**：带数字徽章显示已选条件数量，点击展开/收起完整筛选面板

**展开面板内容：**
- **状态选择**：三个圆角按钮（未开始/进行中/已完成），**无"全部"选项**；点击已选中状态可取消选择
- **标签选择**：圆角标签按钮，最多显示5个，更多可展开显示
- **清除按钮**：红色边框按钮，仅在已选条件时显示，一键清除所有筛选

**样式：**
- 容器：白色卡片 #FFFFFF，柔和阴影，圆角 12px
- 头部高度：56px，内边距 12px 16px
- 搜索框：圆角全圆，高度 36px，陶土色聚焦边框
- 状态按钮：
  - 未选择：白色背景，陶土色边框，圆角 6px
  - 已选择：陶土色背景，白色文字，带清除图标
- 筛选按钮：带数字徽章，展开时旋转箭头
- 展开面板：顶部 1px 边框分隔，内边距 16px，滑入动画 200ms ease
- 状态按钮（展开）：圆角全圆，选中陶土色填充
- 标签按钮：圆角全圆，选中陶土色填充
- 清除按钮：红色边框，红色文字，悬停填充红色背景

**交互：**
- 搜索框：实时搜索，防抖 300ms，支持内容和标签匹配
- 状态选择：点击切换，再次点击同一状态取消选择（返回无筛选状态）
- 展开/收起：带动画过渡（200ms ease），箭头图标旋转
- 标签展开/收起：平滑高度变化动画
- 清除筛选：重置所有条件，自动收起面板

---

### 5. 时间线标题

**布局：**
```
┌────────────────────────────────────┐
│        ○ 2024年3月15日 星期五      │
├────────────────────────────────────┤
│                                    │
│         [记录卡片]                  │
│                                    │
└────────────────────────────────────┘
```

**样式：**
- 左侧竖线连接（虚线）
- 圆圈节点 + 日期文字
- 日期使用大字号 + 衬线体

---

### 6. 新建记录按钮 (FAB)

**样式：**
- 移动端：固定在右下角，56px 圆形按钮
- 桌面端：在 header 中显示为普通按钮
- 陶土色背景 + 白色 + 图标
- 悬停：稍微放大 + 阴影加深
- 点击：涟漪动画

```
移动端：
        ┌───┐
        │ + │  ← 固定右下角
        └───┘

桌面端：
  [我的记录]                    [复盘] [+ 新建]
```

**移动端特性：**
- 56px 直径，足够大的触摸区域
- 距离底部 24px
- 阴影：0 4px 16px rgba(196, 164, 132, 0.4)
- 点击时轻微上移 + 阴影扩散

---

### 7. 记录表单 (Record Form)

**响应式布局：**

**移动端（全屏弹窗）：**
- 从屏幕底部滑入
- 顶部圆角 20px
- 底部固定操作按钮
- 输入框字体 16px（防止 iOS 自动缩放）
- 上推动画 300ms ease-out

**桌面端（居中弹窗）：**
- 居中显示
- 白色背景 + 阴影
- 淡入动画 200ms

**布局（弹窗）：**
```
┌────────────────────────────────────┐
│  ✕  新建记录                       │
├────────────────────────────────────┤
│                                    │
│  内容                              │
│  ┌────────────────────────────────┐│
│  │                                ││
│  │  在这里记录今天发生的事情...   ││
│  │                                ││
│  └────────────────────────────────┘│
│                                    │
│  图片                              │
│  ┌──┐ ┌──┐ ┌──┐  ┌──────────────┐ │
│  │  │ │  │ │  │  │     + 添加    │ │
│  └──┘ └──┘ └──┘  └──────────────┘ │
│                                    │
│  Tag                              │
│  [工作 ×] [生活 ×]  [+ 输入新tag] │
│                                    │
│  已有:  学习  健康  旅行           │
│                                    │
│  状态                              │
│  [未开始] [进行中] [已完成]        │
│                                    │
│  计划开始时间        计划结束时间  │
│  ┌──────────────┐   ┌────────────┐│
│  │ 2024-03-15  │   │ 2024-03-20 ││
│  └──────────────┘   └────────────┘│
│                                    │
│         [取消]        [保存]       │
└────────────────────────────────────┘
```

**样式：**
- 全屏弹窗，移动端体验更好
- 白色背景，顶部圆角
- 输入框：底部边框样式，更简洁
- 按钮：主按钮陶土色，次按钮灰色

---

### 8. 复盘页面 (Review Page)

**布局：**
```
┌────────────────────────────────────┐
│ ←  复盘                      2024年3月│
├────────────────────────────────────┤
│                                    │
│ 时间范围: [2024-03] 至 [2024-03]   │
│                                    │
│ Tag: [全部] [工作] [生活] [学习]   │
│                                    │
├────────────────────────────────────┤
│         📊 本月概览                │
│                                    │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌──┐ │
│  │ 12 │ │ 10 │ │ 3  │ │ 6  │ │1 │ │
│  │总计│ │完成│ │延期│ │按期│ │提│ │
│  └────┘ └────┘ └────┘ └────┘ └──┘ │
│                                    │
├────────────────────────────────────┤
│         📈 计划达成                │
│                                    │
│  未达预期  ████████░░  4 (40%)    │
│  达成预期  ██████████  6 (60%)    │
│  超出预期  ██░░░░░░░░░  2 (20%)   │
│                                    │
├────────────────────────────────────┤
│         📝 详细记录                │
│                                    │
│  [工作] 延期  未达预期            │
│  完成了基础框架搭建，但性能优化... │
│  ─────────────────────────────     │
│                                    │
│  [设计] 按期  达成预期            │
│  按计划完成了所有设计稿...        │
│                                    │
└────────────────────────────────────┘
```

**样式：**
- 顶部日期选择器
- 统计卡片：白色背景，柔和阴影，一行 5 个
- 进度条：圆角，渐变色
- 详细记录：卡片列表，每条显示状态和达成情况

---

### 9. Dashboard（底部吸底栏）

**设计理念：** 固定在屏幕底部，显示今日关键数据，点击展开显示详情。

**布局：**
```
┌─────────────────────────────────────────────┐
│  今日待完成          │  今日延期              │
│  ┌─────┐ ┌─────┐   │  ┌─────┐ ┌─────┐    │
│  │待办 │ │已完成│   │  │未开始│ │未完成│    │
│  │  3  │ │  5   │   │  │  1  │ │  2  │    │
│  └─────┘ └─────┘   │  └─────┘ └─────┘    │
│  点击展开详情        │                        │
└─────────────────────────────────────────────┘
```

**样式：**
- 固定在屏幕底部
- 白色背景 #FFFFFF，顶部柔和阴影
- 左右两栏均分，每栏标题 + 数据卡片
- 数据卡片：白色背景，圆角 12px，柔和阴影
- 待办/已完成数字：使用衬线字体，大字号突出
- 延期数字：红色高亮（如有延期）

**左栏：今日待完成**
- 待办数量：pending + in_progress 的记录数
- 已完成数量：status = completed 的记录数

**右栏：今日延期**
- 计划开始未开始：计划开始时间已过，但状态仍是 pending
- 计划完成未完成：计划结束时间已过，但状态仍是 pending 或 in_progress

**延期计算规则：**
- 没有 plannedStartTime → 默认 = createdAt
- 没有 plannedEndTime → 默认 = 创建日期的 23:59:59

**交互：**
- 点击整栏展开详情浮层
- 悬停时背景轻微变色

---

### 10. DashboardDetail（详情浮层）

**设计理念：** 从底部弹出的抽屉，展示详细的统计数据和图表。

**布局：**
```
┌─────────────────────────────────────────────┐
│  ◀ 返回           统计详情                  │
├─────────────────────────────────────────────┤
│  [延期分析] [效率统计] [Tag分析]            │
├─────────────────────────────────────────────┤
│                                             │
│  ┌─ 延期分析 ─────────────────────────┐    │
│  │ 今日延期概览                        │    │
│  │ ┌────────┐ ┌────────┐              │    │
│  │ │未开始 1│ │未完成 2│              │    │
│  │ │(计划开始│ │(计划完成│              │    │
│  │ │  未开始)│ │  未完成)│              │    │
│  │ └────────┘ └────────┘              │    │
│  └─────────────────────────────────────┘    │
│                                             │
│  ┌─ 效率统计 ─────────────────────────┐    │
│  │ 按时完成率: 75%                    │    │
│  │ 延期完成率: 25%                    │    │
│  │ [折线图: 按时 vs 延期趋势]        │    │
│  └─────────────────────────────────────┘    │
│                                             │
│  ┌─ Tag分析 ──────────────────────────┐    │
│  │ [工作] 延期率 30%                   │    │
│  │ [生活] 延期率 10%                   │    │
│  │ [学习] 延期率 15%                   │    │
│  └─────────────────────────────────────┘    │
└─────────────────────────────────────────────┘
```

**三个 Tab：**

**Tab 1: 延期分析**
- 延期概览卡片：未开始数量 / 未完成数量
- 延期详情：展示延期记录列表（可滚动）

**Tab 2: 效率统计**
- 按时完成率 = 按时完成数 / 完成总数
- 延期完成率 = 延期完成数 / 完成总数
- 平均完成耗时
- 折线图：按时 vs 延期趋势（支持周/月视图切换）

**Tab 3: Tag 分析**
- 各 Tag 的延期率排名
- 各 Tag 的按时完成率排名
- 标签云或柱状图展示

**样式：**
- 半透明遮罩背景
- 从底部滑入的抽屉
- Tab 切换：胶囊式按钮，选中高亮
- 图表：使用 ECharts，平滑曲线 + 渐变填充

**交互：**
- 点击遮罩或返回按钮关闭
- Tab 切换带滑动动画
- 图表支持 hover 查看详细数据

---

### 11. Tag 标签系统

**设计理念：** 支持默认标签和自定义标签，提供便捷的标签选择体验。

**默认标签（不可删除）：**

| 类别 | 标签 |
|------|------|
| 生活 | 吃饭、睡觉、运动、购物、娱乐、通勤 |
| 工作 | 会议、文档、代码、邮件、沟通、汇报 |
| 学习 | 阅读、课程、笔记、复习 |
| 状态 | 重要、紧急、琐事 |
| 项目 | 项目、个人、家庭 |

共 22 个默认标签

**RecordForm 中的标签选择：**

```
┌─────────────────────────────────────────────┐
│  Tag                                        │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐       │
│  │工作│ │生活│ │学习│ │重要│ │紧急│  ...  │
│  └────┘ └────┘ └────┘ └────┘ └────┘       │
│                                             │
│  [更多标签 ▼]                               │
│                                             │
│  + 输入新标签                               │
└─────────────────────────────────────────────┘
```

**样式：**
- 常用标签：显示前 8 个（按使用频率排序）
- 标签按钮：圆角胶囊，选中高亮（陶土色填充）
- 更多标签：点击展开全部标签列表
- 输入框：回车自动添加新标签

**标签列表（展开后）：**

```
┌─────────────────────────────────────────────┐
│  全部标签              [管理标签]           │
├─────────────────────────────────────────────┤
│  生活                          工作          │
│  ┌────┐ ┌────┐ ┌────┐    ┌────┐ ┌────┐  │
│  │吃饭│ │睡觉│ │运动│    │会议│ │代码│  │
│  └────┘ └────┘ └────┘    └────┘ └────┘  │
│                                             │
│  学习                          状态          │
│  ┌────┐ ┌────┐ ┌────┐    ┌────┐ ┌────┐  │
│  │阅读│ │课程│ │笔记│    │重要│ │紧急│  │
│  └────┘ └────┘ └────┘    └────┘ └────┘  │
│                                             │
│  项目                                        │
│  ┌────┐ ┌────┐ ┌────┐                     │
│  │项目│ │个人│ │家庭│                     │
│  └────┘ └────┘ └────┘                     │
└─────────────────────────────────────────────┘
```

**样式：**
- 按类别分组展示
- 默认标签：灰色背景，不可删除
- 自定义标签：带删除图标（×），可删除
- 管理标签：进入单独管理页面

**管理标签页面：**

```
┌─────────────────────────────────────────────┐
│  ◀ 返回        管理标签                     │
├─────────────────────────────────────────────┤
│  默认标签（不可删除）                        │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐     │
│  │吃饭│ │睡觉│ │运动│ │会议│ │代码│     │
│  └────┘ └────┘ └────┘ └────┘ └────┘     │
│                                             │
│  自定义标签                    [+ 新增]     │
│  ┌────┐ ┌────┐ ┌────┐                     │
│  │健身│×│读书│×│编程│×                     │
│  └────┘ └────┘ └────┘                     │
└─────────────────────────────────────────────┘
```

**样式：**
- 默认标签区域：灰显，不可操作
- 自定义标签：带删除按钮（×），悬停显示
- 新增按钮：陶土色，右侧固定

**交互：**
- 点击标签 → 切换选中状态
- 输入框输入 + 回车 → 自动添加新标签
- 自定义标签点击 × → 确认后删除
- 数据存储：自定义标签存储在 localStorage

---

## 页面布局

### 主页 (移动端)

```
┌────────────────────────────────────┐
│                                    │
│           我的记录                 │
│                                    │
├────────────────────────────────────┤
│  状态: 全部 未开始 进行中 已完成   │
│                                    │
│  Tag: 工作 生活 学习               │
│                                    │
│  粒度: 按天 按周 按月             │
├────────────────────────────────────┤
│                                    │
│      ○ 2024年3月15日 星期五       │
│  ─────────────────────────────    │
│                                    │
│  ┌────────────────────────────────┐│
│  │ ● 进行中           2天后结束  ││
│  │                                ││
│  │ 今天完成了需求评审...         ││
│  │ [图][图]                      ││
│  │ [工作][设计]                  ││
│  └────────────────────────────────┘│
│                                    │
│      ○ 2024年3月14日 星期四       │
│  ─────────────────────────────    │
│                                    │
│  ┌────────────────────────────────┐│
│  │ ● 未开始          3天后开始   ││
│  │                                ││
│  │ 准备技术分享会的材料...      ││
│  │ [工作]                        ││
│  └────────────────────────────────┘│
│                                    │
│                              ┌──┐ │
│                              │ + │ │
│                              └──┘ │
└────────────────────────────────────┘
```

### 主页 (桌面端)

```
┌──────────────────────────────────────────────────┐
│                                                  │
│              我的记录                      [复盘]│
│                                                  │
├──────────────────────────────────────────────────┤
│  状态: 全部  未开始  进行中  已完成             │
│                                                  │
│  Tag:  工作  生活  学习  健康  旅行             │
│                                                  │
│  粒度:  按天  按周  按月                        │
├──────────────────────────────────────────────────┤
│                                                  │
│        ┌─────────┐                              │
│        │ 2024/3  │  ○ 3月15日 星期五           │
│        └─────────┘ ─────────────────────────── │
│                    │                            │
│                    ├──┬─────────────────────┐  │
│                    │  │ ● 进行中 2天后结束 │  │
│                    │  │ 今天完成了需求...  │  │
│                    │  │ [工作][设计]       │  │
│                    │  └────────────────────┘  │
│                    │                            │
│                    ├──┬─────────────────────┐  │
│                    │  │ ● 未开始  3天后开始│  │
│                    │  │ 准备技术分享...    │  │
│                    │  │ [工作]             │  │
│                    │  └────────────────────┘  │
│                    │                            │
│        ┌─────────┐│                              │
│        │ 2024/3  ││ ○ 3月14日 星期四           │
│        └─────────┘ ─────────────────────────── │
│                                                  │
│                                          ┌──┐  │
│                                          │ + │  │
│                                          └──┘  │
└──────────────────────────────────────────────────┘
```

**桌面端特点：**
- 时间线在右侧 2/3 宽度
- 左侧 1/3 显示月份日历/概览
- 最大宽度 1200px，居中

---

## 动画效果

### 页面加载
- 卡片依次淡入 (stagger, 50ms 间隔)
- 时间线标题向左滑入

### 交互
- 按钮悬停：轻微上移 + 阴影加深
- 卡片悬停：轻微放大 (1.02)
- Tag 添加：缩放弹入
- 表单弹窗：从底部滑入 (移动端) / 居中淡入 (桌面端)

### 转场
- 页面切换：淡入淡出
- 筛选切换：列表重新排序动画

---

## 响应式断点

```css
/* 移动端 */
@media (max-width: 640px) {
  /* 单列布局 */
  /* 底部 FAB 按钮 */
  /* 全屏弹窗表单 */
}

/* 平板 */
@media (min-width: 641px) and (max-width: 1024px) {
  /* 单列布局，宽度更大 */
  /* 侧边筛选栏可折叠 */
}

/* 桌面 */
@media (min-width: 1025px) {
  /* 左侧月份导航 */
  /* 右侧时间线 */
  /* 最大宽度限制 */
}
```

---

## 可访问性

- 所有按钮和链接有明确的焦点状态
- 颜色对比度符合 WCAG AA 标准
- 支持键盘导航
- 图片有 alt 文字
- 表单有清晰的标签

---

## 后续扩展

**考虑未来分享功能：**
- 导出为精美的单页/长图
- 分享链接（需要后端）
- 公开页面模板（干净的阅读体验）
